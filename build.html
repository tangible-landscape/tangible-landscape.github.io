<!DOCTYPE HTML>
<!--
	Spatial by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Tangible Landscape</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="js/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-layers.min.js"></script>
		<script src="js/init.js"></script>
		<noscript>
			<link rel="stylesheet" href="css/skel.css" />
			<link rel="stylesheet" href="css/style.css" />
			<link rel="stylesheet" href="css/style-xlarge.css" />
			<link rel="shortcut icon" href="./images/tl_favicon.ico" />
		</noscript>
	</head>
	<body>

		<!-- Header -->
			<header id="header" class="alt">
				<h1><strong><a href="https://geospatial.ncsu.edu/osgeorel">NCSU</strong><span style="color: #222"> OSGeoREL</span></a></h1>
				<nav id="nav">
					<ul>
						<li><a href="index.html">Concept</a></li>
						<li><a href="applications.html">Applications</a></li>
						<li><a href="build.html">Build-your-own</a></li>
						<li><a href="publications.html">Publications</a></li>
						<li><a href="contact.html">Contact</a></li>
					</ul>
				</nav>
			</header>

		<!-- Main -->
			<section id="main" class="wrapper">
				<div class="container">

					<header class="major special">
						<h2>Build-your-own</h2>
					</header>

					<!-- Overview -->
					<header>
						<h3>Multiplatform</h3>
					</header>
					<p>
						<i class="fa fa-linux fa-2x" aria-hidden="true"></i>
						<i class="fa fa-apple fa-2x" aria-hidden="true"></i>
						<i class="fa fa-windows fa-2x" aria-hidden="true"></i>
					</p>

					<!-- Installation -->
					<header>
						<h3>Dependencies</h3>
					</header>
					<div class="table-wrapper">
						<table>
							<thead>
								<tr>
									<th>Program</th>
									<th>Use</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td><a href="https://github.com/OpenKinect/libfreenect2">libfreenect2</a></td>
									<td>Drivers for Kinect v2</td>
								</tr>
								<tr>
									<td><a href="http://pointclouds.org/">PCL</a></td>
									<td>Point cloud processing</td>
								</tr>
								<tr>
									<td><a href="https://grass.osgeo.org/">GRASS GIS 7</td>
									<td>Geographic information system</td>
								</tr>
							</tbody>
						</table>
					</div>

					<details>
						<summary><i class="fa fa-apple fa-lg" aria-hidden="true"></i> guide</summary>
						<ul class="alt">
							<li>
								Install PCL with Homebrew:
								<a href="http://www.pointclouds.org/documentation/tutorials/installing_homebrew.php">http://www.pointclouds.org/documentation/tutorials/installing_homebrew.php</a>
							</li>
							<li>
								Install GRASS GIS 7.0 with Homebrew using the OSGeo Mac Homebrew tap:
								<a href="https://github.com/OSGeo/homebrew-osgeo4mac">https://github.com/OSGeo/homebrew-osgeo4mac</a>
							</li>
							<li>
								Installing libfreenect2:
								<a href="https://github.com/OpenKinect/libfreenect2#mac-osx">https://github.com/OpenKinect/libfreenect2#mac-osx</a>
							</li>
						</ul>
					</details>
					<br/>

					<!-- Software -->
					<header>
						<h3>Software</h3>
					</header>
					<div class="table-wrapper">
						<table>
							<thead>
								<tr><th>Components</th><th>Type</th><th>Use</th></tr>
							</thead>
							<tbody>
								<tr>
									<td><a href="https://github.com/ncsu-osgeorel/grass-tangible-landscape">grass-tangible-landscape</a></td>
									<td>GRASS GIS plugin</td>
									<td>Tangible interface for GRASS GIS</td>
								</tr>
								<tr>
									<td><a href="https://github.com/ncsu-osgeorel/r.in.kinect">r.in.kinect</a></td>
									<td>GRASS GIS addon</td><td>Import data from Kinect</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- Hardware -->
					<header>
						<h3>Hardware</h3>
					</header>
					<div class="table-wrapper">
						<table>
							<thead>
								<tr><th>Type</th><th>Product</th><th>Cost</th></tr>
							</thead>
							<tbody>
								<tr>
									<td>Computer</td>
									<td>System 76 Oryx Pro</td>
									<td>$1500</td>
								</tr>
								<tr>
									<td>Projector</td>
									<td>Optoma ML750 WXGA 700 DLP LED</td>
									<td>$500</td>
								</tr>
								<tr>
									<td>3D sensor</td>
									<td>Xbox One Kinect</td>
									<td>$100</td>
								</tr>
								<tr>
									<td></td>
									<td>Kinect Adapter for Windows</td>
									<td>$50</td></tr>
								<tr>
									<td>Stand</td>
									<td>Avenger 40-Inch C-Stand with Grip Kit</td>
									<td>$200</td>
								</tr>
								<tr>
									<td></td>
									<td>Avenger 40-Inch C-Stand with Grip Kit</td>
									<td>$200</td>
								</tr>
								<tr>
									<td></td>
									<td>Avenger F800 3-Inch Baby Wall Plate</td>
									<td>$10</td>
								</tr>
								<tr>
									<td></td>
									<td>Avenger F800 3-Inch Baby Wall Plate</td>
									<td>$10</td>
								</tr>
								<tr>
									<td>Peripherals</td>
									<td>HDMI cable</td>
									<td>$10</td>
								</tr>
								<tr>
									<td></td>
									<td>Extension cord</td>
									<td>$10</td>
								</tr>
								<tr>
									<td>Modeling media</td>
									<td>Waba Fun Kinetic Sand 11 Lbs</td>
									<td>$50</td>
								</tr>
							</tbody>
						</table>
					</div>

					<!-- Setup -->
					<header>
						<h3>Hardware setup</h3>
					</header>

					<div class="container 100%">
						<div class="row 100%">
							<div class="6u 12u$(medium)">
								<span class="image fit">
									<img src="images/system_setup.png" alt="" />
								</span>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>
									Place your physical model of a landscape on a table.
									Mount the Kinect sensor on baby wall plate attached to a c-stand.
									Adjust the height of the c-stand so that the Kinect is 0.5 m - 1 m above the model.
									Mount the projector on another baby wall plate attached to another c-stand.
									Connect the Kinect and projector to your computer.
								</p>
							</div>
						</div>
					</div>

					<br/>
					<header>
						<h4>Projector configurations</h4>
					</header>
					<div class="container 100%">
						<div class="row 100%">
							<div class="3u">
								<span class="image fit">
									<img src="images/projector_schema_center.png" alt="" />
								</span>
							</div>
							<div class="3u">
								<span class="image fit">
									<img src="images/projector_schema_keystone.png" alt="" />
								</span>
							</div>
							<div class="3u">
								<span class="image fit">
									<img src="images/projector_schema_short_throw.png" alt="" />
								</span>
							</div>
							<div class="3u">
								<span class="image fit">
									<img src="images/projector_schema_ceiling.png" alt="" />
								</span>
							</div>
						</div>
					</div>
					<br/>

					<!-- Model making -->
					<header>
						<h3>Model making</h3>
					</header>
					<p>
						To sculpt with Tangible Landscape you need a malleable model made of a soft, deformable medium like polymer enriched sand.
						When you are using Tangible Landscape for object detection you can use hard, rigid models such as 3D prints.
					</p>

					<header>
						<h4>Hand sculpting</h4>
					</header>
					<div class="container 100%">
						<div class="row 100%">
							<div class="6u 12u$(medium)">
								<span class="image fit">
									<img src="images/hand_sculpting.jpg" alt="" />
								</span>
							</div>
							<div class="6u$ 12u$(medium)">
								<p>
									You can easily sculpt a model with polymer enriched sand using Tangible Landscape.
									Project a digital elevation model and the derived contours onto the table.
									Use this as a guide for sculpting.
									You can also use Tangible Landscape to compute the difference between the scanned model that you have sculpted and the originial digital elevation model.
									Project the color coded difference (i.e. cut/fill) for a real-time guide of where to add or remove sand.
									You can also vertically rescale and translate the scanned raster to match the original DEM using the module r.regression.line.
								</p>
								<!--If you are running this outside of Tangible Landscape, you can generate a raster (our hypothetical pile of sand) and compute the difference.-->
							</div>
						</div>
					</div>

<pre><code>import grass.script as gscript

def run_difference(real_elev, scanned_elev, env, **kwargs):
	regression_params = gscript.parse_command('r.regression.line', flags='g', mapx=scanned_elev, mapy=real_elev, env=env)
	gscript.mapcalc('{regression} = {a} + {b} * {before}'.format(a=regression_params['a'], b=regression_params['b'],before=scanned_elev, regression='regression'), env=env)
	gscript.mapcalc('{difference} = {regression} - {after}'.format(regression='regression', after=real_elev, difference='diff'), env=env)
	gscript.write_command('r.colors', map='diff', rules='-', stdin="-100 black\n-20 red\n0 white\n20 blue\n100 black", env=env)
</code></pre>
<!--
if __name__ == '__main__':
	elevation = 'elev_lid792_1m'
	sand_pile = 'sand_pile'
	env = None
	gscript.run_command('r.surf.fractal', output=sand_pile)
	run_difference(real_elev=elevation, scanned_elev=sand_pile, env=env)
-->

<header>
	<h4>Digital fabrication</h4>
</header>
<div class="container 100%">
	<div class="row 100%">
		<div class="6u 12u$(medium)">
			<span class="image fit">
				<img src="images/3d_print_2.jpg" alt="" />
			</span>
		</div>
		<div class="6u$ 12u$(medium)">
			<p>
				You can build precise physical models using digital fabrication technologies like computer numerically controlled (CNC) manufacturing or 3D printing.
				You can use CNC milled and 3D printed models as molds for casting polymer enriched sand into precise yet malleable models.
				Cast models can precisely represent complex forms that are too challenging to model by hand.
				You can <em>reset</em> your sand model by simply by casting it again.
			</p>
		</div>
	</div>
</div>

				<!-- end of main -->
				</div>
			</section>

		<!-- Footer -->
			<footer id="footer">
				<div class="container">
					<ul class="icons">
						<li><a href="https://github.com/ncsu-osgeorel/"><i class="fa fa-github fa-lg" aria-hidden="true"></i></a></li>
						<li><a href="https://plus.google.com/b/112857255995703553144/112857255995703553144"><i class="fa fa-google-plus fa-lg" aria-hidden="true"></i></a></li>
						<li><a href="https://www.youtube.com/channel/UCc37pVh-WE46Xkqeq-KZQsA"><i class="fa fa-youtube fa-lg" aria-hidden="true"></i></a></li>

					</ul>
					<ul class="copyright">
						<li title="Copyright and license (not applicable to linked materials)">
						<a href="https://creativecommons.org/licenses/by-sa/4.0/"><i class="fa fa-creative-commons" aria-hidden="true"></i> BY-SA</a> 2016
						<a href="http://geospatial.ncsu.edu/osgeorel/">NCSU OSGeoREL</a></li>
						<li>Design: <a href="http://templated.co">TEMPLATED</a></li>
					</ul>
				</div>
			</footer>

	</body>
</html>
